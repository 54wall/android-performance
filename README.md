# android-performance
了解Android性能分析与优化

Android调试神器stetho使用详解和改造地址：https://segmentfault.com/a/1190000012075067#articleHeader8
chrome://inspect/#devices 抓包

## 第1章 课程导学与学习指南

#### 1-3 面试准备及亮眼的简历 

1. 简历表达的宗旨

   1. 简洁性
      1. 排版清晰
      2. 简洁不是少，亮点、优势仍然要突出
      3. 挑选重要的、突出的表达
      4. 无关的、次要的不需要表达
   2. 真实性
      1. 可以包装、但不能伪造
      2. 量化指标去说明
         1. 重构前后crash量的变化
         2. 重构前后线上Bug数的变化
         3. 重构前后开发成本节约了多少
   3. 全面性
      1. 邮箱、联系方式等基本信息要全面
      2. 履历过的公司要全面
      3. 履历的每家公司尽量都有一个十分亮点的项目体现

2. 简历涵盖内容四要素

   1. 基本信息

      姓名、学校、现居、学历、工作年限、专业、电话、邮箱

   2. 工作经历

      时间段、公司、职位

   3. 项目经验

      列举比较有亮点的2-3个项目

      明确自己承担的角色：主导、参与、核心研发者

      背景、方案、效果

   4. 擅长技能

      六条专业技能，按照水平突出亮点和重点

      关键词：擅长、掌握、精通、理解

      掌握Java、Kotlin语言，可以看得懂js，接触过一点shell

   ###### 好的简历在一定程度上提高收到面试邀请的概率

## 第2章 App性能概览与平台化实践

#### 2-2 性能优化有哪些难题

1. 性能表现差

   1. App启动慢、卡顿、丢帧
   2. 内存占用高、抖动频繁
   3. 耗电、网络请求慢
   4. 崩溃率、异常率高

2. 线上问题无从追查

   1. 如何保证异常感知灵敏度
   2. 如何复原案发现场
   3. 如何快速止血成功：修复Bug

3. 性能优化的长期开销大

   1. 如何扼杀问题于萌芽：在上线前解决问题

      以更高的视角指导自己的工作

   2. 优化效果如何长期保持

4. 性能优化的要求

   1. 性能表现好
   2. 线上问题易追查
   3. 长期投入小

#### 2-3 App性能优化解决方案演进

1. 项目初期
   1. 只关心崩溃率、不采集性能数据
   2. 没有性能检测、优化方案
   3. 没有排查问题手段
2. 项目壮大期
   1. 指标采集、不够全及深入
   2. 接入成熟应用性能管理（简称APM：application performance management）、排查手段单一
   3. 线下检测、优化、方案不成型
3. 项目成熟期
   1. 重点关注性能问题，数据丰富，手段多样化
   2. 线上、线下一整套完整解决方案
      1. 误区：对线上不重视
      2. 侧重点：线下预防、线上监控
      3. 方案不同：线下可用黑科技
   3. 自建APM、新产品可快速接入
4. 为什么需要自建APM？
   1. 成熟APM通用，但不满足个性化需求
   2. 外部APM与内部系统难打通，带来的时间成本
   3. 数据必须掌握在自己手中

#### 2-4 业界优秀的平台化实践初步认知

1. Crash收集平台

   Bugly为代表

   1. 数据采集、上报成功率高
   2. 包含Java、Native崩溃
   3. 建议项目初期接入

2. APM平台

   听云为代表

   1. 通用的性能解决方案、数据采集完善
   2. 方便接入、但不满足个性化需求，数据隐患
   3. 建议性能方案不完善的阶段接入

3. 自建解决方案

   美团、携程、360等

   1. 贴合自身业务特点，满足定制化需求
   2. 数据安全

#### 2-5 本章模拟面试

1. 注意事项
   1. 面试不仅仅是技术点的考察
   2. 职业生涯上台阶不能只埋头做技术
2. 答题套路
   1. 找答案：立足项目整个周期
   2. 讲案例：找普遍痛点
   3. 超预期：体现你和别人的区别
3. 具体问题
   1. 你们为什么要做性能优化
      1. 体验差影响核心指标
      2. 线上问题追查困难
      3. 降低性能优化的长期开销
   2. 介绍一下你们的性能平台
      1. 交代背景
      2. 具体讲解：项目不同阶段，最后自己搭建了APM平台
   3. 你们为什么要自建APM
      1. 需求层面：商业APM不满足我们个性化需求的例子
      2. 效率层面：商业APM和我们的项目系统结合不紧密
      3. 数据安全

## 第3章 App启动优化

#### 3-2 App启动优化介绍

#### 3-3 启动时间测量方式

#### 3-4 启动优化工具选择-缺结尾-1

#### 3-5 启动优化工具选择-缺结尾-2

#### 3-6 优雅获取方法耗时讲解

#### 3-7 优雅获取方法耗时实操

#### 3-8 异步优化详解

#### 3-9 异步初始化最优解-启动器-1

#### 3-10 异步初始化最优解-启动器-2

#### 3-11 更优秀的延迟初始化方案

#### 3-12 启动优化其它方案

#### 3-13 启动优化方案总结

#### 3-14 启动速度模拟面试


## 第10章 App瘦身优化
#### 10-1 瘦身优化及Apk分析方案介绍
#### 10-2 代码瘦身实战
#### 10-3 资源瘦身实战
#### 10-4 So瘦身实战

1. So移除
   1. So是Android上的动态链接库
   2. 七种不同类型的CPU架构
   3. abiFilters：设置支持的So架构
   4. 一般选择armeabi
2. 更优方案
   1. 完美支持所有类型设备代价太大
   2. 都放在armeabi目录，根据CPU类型加载对应架构So
3. 其它方案
   1. So动态下载
   2. 插件化：阿里和360的解决方案

#### 10-5 瘦身优化模拟面试

## 第11章 App稳定性优化

#### 11-1 如何提升App的稳定性

1. 正确认识
   1. 稳定性是大问题，Crash是P0优先级
   2. 稳定性可优化的面很广
2. 稳定性维度
   1. Crash纬度
   2. 性能纬度
   3. 业务高可用纬度
3. 稳定性优化概览
   1. 重在预防，监控必不可少
   2. 思考更深一层、重视隐含信息
   3. 长效保持需要科学流程

#### 11-2 高Crash率的破解之道

#### 11-3 移动端业务高可用方案建设

#### 11-4 移动端容灾方案

#### 11-5 稳定性长效治理

#### 11-6 稳定性优化模拟面试